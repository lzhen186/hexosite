---
title: åŸºç¡€å·©å›ºç¬¬äºŒå¤©
date: 2021-12-16T03:47:59.944Z
---
1. å¼‚å¸¸ä½“ç³»

   1. å‘ç°é”™è¯¯çš„æœ€ä½³æ—¶æœºæ˜¯ç¼–è¯‘æ—¶ï¼Œç¼–è¯‘æœŸæ‰¾ä¸åˆ°çš„å«è¿è¡Œæ—¶å¼‚å¸¸`RuntimeException`

      ![](images/å¼‚å¸¸.png)
   2. æ‰“å°å¼‚å¸¸ä¿¡æ¯

      ```java
      catch(Exception e){
          e.printStackTrace();                         //å…¨éƒ¨é”™è¯¯ä¿¡æ¯,å¯ä»¥è¾“å‡ºåˆ°æµ(PrintStream s)
          System.out.println(e.getMessage());          //é”™è¯¯è¿”å›å†…å®¹
          System.out.println(e.getLocalizedMessage()); //é”™è¯¯è¿”å›å†…å®¹
          System.out.println(e.toString());            //å¼‚å¸¸ç±»ï¼šè¿”å›å†…å®¹
          System.out.println(e.fillInStackTrace());    //å¼‚å¸¸ç±»ï¼šè¿”å›å†…å®¹
      }
      ```
   3. RuntimeException

      1. æ•°ç»„è¶Šç•Œå¼‚å¸¸

         ```java
         try{
             int[] i = {1,2,3,4};
             System.out.println(i[4]);
         }catch(ArrayIndexOutOfBoundsException e){
             System.out.println("æ•°ç»„è¶Šç•Œ");
         }
         ```
      2. ç©ºæŒ‡é’ˆå¼‚å¸¸

         ```java
         try{
           Two two = new Two();
           two=null;
           System.out.println(two.id);
         }catch(NullPointerException e){
           System.out.println("ç©ºæŒ‡é’ˆå¼‚å¸¸");
         }
         ```
      3. æ•°ç»„é•¿åº¦ä¸ºè´Ÿå¼‚å¸¸

         ```java
         try{
           int [] j = new int[-1];
         }catch(NegativeArraySizeException e){
           System.out.println("æ•°ç»„é•¿åº¦ä¸ºè´Ÿå¼‚å¸¸");
         }
         ```
      4. ç±»å‹è½¬æ¢å¼‚å¸¸

         ```java
         class Father{
           class Son1 extends Father{
           }
           class Son2 extends Father{
           }
           
           try{
             Father son1 = new Son1();
             Son2 son2 (Son2)son1;
           }catch(ClassCastException e){
             System.out.println("ç±»å‹è½¬æ¢å¼‚å¸¸");
           }
         }
         ```

         `ğŸ”—ï¼š` <https://blog.csdn.net/weixin_34293911/article/details/94334415>
      5. ç®—æ•°å¼‚å¸¸

         ```java
         try{
           System.out.println(1/0);
         }catch(ArithmeticException e){
           System.out.println("æ•°ç»„é•¿åº¦ä¸ºè´Ÿå¼‚å¸¸");
         }
         ```
      6. æ•°å­—æ ¼å¼å¼‚å¸¸

         ```java
         try{
           Integer integer = new Integer("a12");
         }catch(NumberFormatException e){
           System.out.println("æ•°å­—æ ¼å¼å¼‚å¸¸");
         }
         ```
      7. éæ³•å‚æ•°å¼‚å¸¸

         ```java
         try{
           Integer integer = new Integer("a12");
         }catch(IllegalArgumentException e){
           System.out.println("éæ³•å‚æ•°å¼‚å¸¸");
         }
         ```
      8. éæ³•çŠ¶æ€å¼‚å¸¸

         ```java
         try{
           List linkedList = new LinkedList();
           linkedList.add("he");
           linkedList.add("llo");

           ListIterator iterator = linkedList.listIterator();
           iterator.next();
           iterator.remove();  //listå¤„äºä¸ç¨³å®šçŠ¶æ€ï¼Œ
           iterator.set("new");
           System.out.println(linkedList);
         }catch(IllegalStateException e){
           System.out.println("éæ³•çŠ¶æ€å¼‚å¸¸");
         }
         ```
   4. éè¿è¡Œæ—¶å¼‚å¸¸

      1. IOException

         ```java
         try{
           FileWriter fileWriter = new FileWriter("/he.jpg");
         }catch(IOException e){
           System.out.println("æ–‡ä»¶æœªæ‰¾åˆ°å¼‚å¸¸");
         }
         ```
      2. SQLException

         > å½“ä½¿ç”¨ JDBC ä¸æ•°æ®æºè¿›è¡Œäº¤äº’çš„æ—¶å€™é‡è§é”™è¯¯çš„æ—¶å€™ï¼Œ
      3. FileNotFoundException

         ```java
         try{
           FileWriter fileWriter = new FileWriter("/he.jpg");
         }catch(FileNotFoundException e){
           System.out.println("æ–‡ä»¶æœªæ‰¾åˆ°å¼‚å¸¸");
         }
         ```
      4. NoSuchFieldException

         ```java
         try{
           Class<?> clazz = Class.forName("Two");
           clazz.getField("name");
         }catch(NoSuchFieldException e){
           System.out.println("æ²¡æœ‰å±æ€§å¼‚å¸¸");
         }
         ```
      5. NoSuchMethodException

         ```java
         try{
           Class<?> clazz = Class.forName("Two");
           clazz.getMethod("getName");
         }catch(NoSuchMethodException e){
           System.out.println("æ²¡æœ‰æ–¹æ³•å¼‚å¸¸");
         }
         ```
      6. IllegalAccessException

         ```java
         try{
           Class<?> clazz = Class.forName("Two");
           Field field = clazz.getDeclaredField("id");

           //field.setAccessible(true); æ‰“å¼€å°±å¯ä»¥ä¸æŠ¥é”™ï¼Œä¿®æ”¹ç§æœ‰
           field.set("1","1");
         }catch(IllegalAccessException e){
           System.out.println("æ²¡æœ‰è®¿é—®æƒé™çš„å¼‚å¸¸");
         }
         ```

         `ğŸ”—ï¼š` <https://www.nhooo.com/note/qa0rqp.html>
      7. ClassNotFoundException

         ```java
         try{
           Class.forName("com.baidiu.d");
         }catch(ClassNotFoundException e){
           System.out.println("ç±»æœªæ‰¾åˆ°å¼‚å¸¸");
         }
         ```

         `ğŸ”—ï¼š` <https://www.jianshu.com/p/9b6a4d0b94ac> <https://blog.csdn.net/gloria0610/article/details/90516908>
   5. Error ç¨‹åºæ— æ³•å¤„ç†çš„é”™è¯¯

      > è¡¨ç¤ºä»£ç è¿è¡Œæ—¶JVMå‡ºç°çš„é—®é¢˜ï¼Œé”™è¯¯æ˜¯ä¸å¯æ£€æŸ¥çš„

      1. OutOfMemoryError
      2. StackOverflowError
      3. Javaå†…å­˜æ¨¡å‹jdk1.7

         ![](images/å†…å­˜æ¨¡å‹.png)

         >  åªæœ‰ç¨‹åºè®¡æ•°å™¨ä¸ä¼š`OutOfMemoryError` ï¼Œè®¡æ•°å™¨æ§åˆ¶ç€æŒ‡ä»¤çš„åˆ†æ”¯ã€å¾ªç¯ã€è·³è½¬ã€å¼‚å¸¸å¤„ç†å’Œçº¿ç¨‹æ¢å¤ï¼Œå¹¶ä¸”æ¯ä¸ªçº¿ç¨‹ç§æœ‰ã€‚
         >
         > çº¿ç¨‹ç§æœ‰ï¼šå„çº¿ç¨‹ä¹‹é—´äº’ä¸å½±å“ï¼Œç‹¬ç«‹å­˜å‚¨çš„å†…å­˜åŒºåŸŸã€‚
         >
         > æœ¬åœ°æ–¹æ³•æ ˆå’Œè™šæ‹Ÿæœºæ ˆï¼šå¦‚æœçº¿ç¨‹è¯·æ±‚çš„æ ˆæ·±åº¦å¤§äºè™šæ‹Ÿæœºæ ˆå…è®¸çš„æ·±åº¦ï¼Œå°†`StackOverflowError`ï¼›å¦‚æœè™šæ‹ŸæœºåŠ¨æ€æ‰©å±•æ— æ³•ç”³è¯·åˆ°è¶³å¤Ÿå†…å­˜ï¼Œå°†`OutOfMemoryError` 
         >
         > å †ï¼šJavaå †ç‰©ç†ä¸Šä¸è¿ç»­ï¼Œé€»è¾‘ä¸Šè¿ç»­ï¼›å¦‚æœæ²¡æœ‰å†…å­˜è¿›è¡Œå®ä¾‹åˆ†é…ï¼Œæ— æ³•æ‰©å±•æ—¶ï¼Œå°†`OutOfMemoryError`
2. å†…éƒ¨ç±»

   > å†…éƒ¨ç±»æ‹¥æœ‰å¤–éƒ¨ç±»çš„è®¿é—®æƒï¼Œå´å¯¹å…¶ä»–ç±»ä¸å¯è§

   `ğŸ”—ï¼š` <https://www.cnblogs.com/chenssy/p/3388487.html>

   1. å±€éƒ¨å†…éƒ¨ç±»ï¼šå®šä¹‰åœ¨æ–¹æ³•å’Œä½œç”¨åŸŸå†…éƒ¨

      ```java
      class OutClass1{
      //å®šä¹‰åœ¨æ–¹æ³•é‡Œ
          public String sayHi(String str){
              class InterClass {
                  private String name;
                  public InterClass(String name){
                      this.name = name;
                  }
                  public String  getName(){
                      return this.name;
                  }
              }
              return new InterClass(str).getName();
          }

      //å®šä¹‰åœ¨ä½œç”¨åŸŸå†…
          public void onof(){
              open(true);
          }
          public void open(boolean b){
              if(b){
                  class InterClass{
                      private String id;
                      InterClass(String name){
                          id = name;
                      }
                      String getName(){
                          return id;
                      }
                  }
                  InterClass interClass = new InterClass("å†…éƒ¨");
                  String name = interClass.getName();
                  System.out.println(name);
              }
          }

          public static void main(String[] args) {
              OutClass1 outClass1 = new OutClass1();
              System.out.println(outClass1.sayHi("hello"));
              outClass1.onof();
          }
      }
      ```
   2. æˆå‘˜å†…éƒ¨ç±»ï¼šå®šä¹‰åœ¨ä½œç”¨åŸŸå†…éƒ¨çš„ç±»

      ```java
      //æˆå‘˜å†…éƒ¨ç±»
      class OutClass{


          public class InterClass{
              public void inhi(){
                  System.out.println("in say hi");
              }
          }

          public InterClass getInterClass(){
              return new InterClass();
          }


          public static void main(String[] args) {
              OutClass outClass = new OutClass();
              InterClass interClass = outClass.getInterClass();
              interClass.inhi();
          }
      }
      ```
   3. åŒ¿åå†…éƒ¨ç±»ï¼š å®ç°äº†æ¥å£ï¼Œæ‰©å±•äº†éé»˜è®¤æ„é€ å™¨ï¼Œå¯ä»¥å­—æ®µåˆå§‹åŒ–ï¼Œå¯ä»¥å®ç°æ„é€ 

      ```java
      //åŒ¿åå†…éƒ¨ç±»
      class OutClass2{
         interface InnerClass{
             int getNumber();
         }

         public InnerClass getInner(){
             return new InnerClass(){
                 int num = 3;
                 public int getNumber(){
                     return num;
                 }
             };
         }

         public static void main(String[] args) {
             OutClass2 outClass2 = new OutClass2();
             InnerClass inner = outClass2.getInner();
             System.out.println(inner.getNumber());
         }
      }
      ```
3. é›†åˆ

   1. Iterableæ¥å£     ï¼ˆç§»é™¤ã€æ·»åŠ å…ƒç´ æ¶‰åŠåˆ°`fail-fast`æœºåˆ¶ï¼‰

      ```java
      class CollectionShow2{
       public static void main(String[] args) {
           ArrayList<Integer> arrayList = new ArrayList();
           arrayList.add(1);
           arrayList.add(2);

           for (Integer it : arrayList){  //å¢å¼ºfor
               System.out.println(it);
           }
           
           for(Iterator<Integer> it = arrayList.iterator();it.hasNext();){
               Integer value = it.next();
               if(value==2)
                   it.remove();      //è¿­ä»£å™¨åˆ é™¤
           }
           System.out.println(arrayList);


           ArrayList<Integer> newArr = new ArrayList();
           for(Iterator<Integer> it = arrayList.iterator();it.hasNext();){
               Integer value = it.next();
               if(value==1)
                   newArr.add(5);    //è¿­ä»£å™¨æ·»åŠ 
           }
           arrayList.addAll(newArr);
           System.out.println(arrayList);
       }
      }
      ```

      `ğŸ”—ï¼š` <https://www.cnblogs.com/chenssy/p/3388487.html>
   2. é¡¶çº§æ¥å£

      * Collectionæ˜¯é¡¶çº§æ¥å£
      * Listç»§æ‰¿äº`Collection`ï¼Œæ˜¯`ArrayList`ã€`LinkedList`çš„çˆ¶ç±»ï¼Œæœ‰åº
      * Setä¹Ÿç»§æ‰¿äº`Collection`ï¼Œå¯¹addã€equalsã€hashCodeæœ‰é¢å¤–çš„æ ‡å‡†ï¼Œæ— åº
      * Queueå’Œå‰ä¸¤ä¸ªæ˜¯ä¸‰å¤§æ¥å£ï¼Œå¤„ç†ä¹‹å‰ä¿æŒå…ƒç´ çš„è®¿é—®æ¬¡åºï¼Œæœ‰é¢å¤–çš„æ’å…¥ã€è¯»å–ã€æ£€æŸ¥æ“ä½œ
      * Mapæ˜¯æ”¯æŒé”®å€¼å¯¹ï¼Œä¸èƒ½é‡å¤keyã€‚
   3. ArrayList  ï¼ˆå…·æœ‰`fail-fast`æœºåˆ¶ï¼‰

      > æ•°ç»„ï¼ŒæŸ¥æ‰¾å—ï¼Œå› ä¸ºè¿ç»­çš„å†…å­˜ç©ºé—´ï¼Œæ–¹ä¾¿å¯»å€ï¼Œä½†åˆ é™¤æ’å…¥æ…¢ï¼Œå› ä¸ºéœ€è¦æ•°æ®å‘ç”Ÿè¿ç§»ã€‚çº¿ç¨‹ä¸å®‰å…¨ï¼Œæ•ˆç‡é«˜ã€‚
      >
      > åˆå§‹å®¹é‡10ï¼Œä¸å¤Ÿæ—¶1.5å€æ‰©å®¹
      >
      > åˆ é™¤ã€æ·»åŠ ï¼šé™¤æœ«å°¾å¤–éœ€è¦æ•´ä½“è¿ç§»
      >
      > ä¿®æ”¹ï¼šå…ˆå®šä½-æŸ¥æ‰¾-ArrayList
      >
      > ```java
      > ArrayList<Integer> ints1 = new ArrayList<>();
      > long add1 = System.currentTimeMillis();
      > for(int i=0;i<10000000;i++){
      >     ints1.add(i);
      > }
      > long add2 = System.currentTimeMillis();
      > System.out.println("ArrayListæ·»åŠ ç”¨æ—¶"+(add2-add1));   //1960
      > for(int i=10;i<1000;i++) {
      >     ints1.add(i, 333);
      > }
      > long add3 = System.currentTimeMillis();
      > System.out.println("ArrayListæ’å…¥ç”¨æ—¶"+(add3-add2));   //5982
      > int i1 = ints1.indexOf(333333);
      > System.out.println(i1);
      > long find1 = System.currentTimeMillis();
      > System.out.println("ArrayListæŸ¥æ‰¾ç”¨æ—¶"+(find1-add3));  //8
      > ```
   4. LinkedList

      > æŸ¥æ‰¾æ…¢ï¼Œå› ä¸ºéœ€è¦é€šè¿‡æŒ‡é’ˆä¸€ä¸ªä¸ªå¯»å€ï¼Œä½†åˆ é™¤ã€æ’å…¥å¿«ï¼Œåªè¦æ”¹å˜å‰åèŠ‚ç‚¹çš„æŒ‡é’ˆæŒ‡å‘å³å¯ï¼›ä¸æ˜¯è¿ç»­å†…å­˜ç©ºé—´
      >
      > ```java
      > LinkedList<Integer> ints2 = new LinkedList<>();
      > long ladd1 = System.currentTimeMillis();
      > for(int i=0;i<10000000;i++){
      >     ints2.add(i);
      > }
      > long ladd2 = System.currentTimeMillis();
      > System.out.println("LinkedListæ·»åŠ ç”¨æ—¶"+(ladd2-ladd1));  //5761
      > for (int i=10;i<1000;i++){
      >     ints2.add(i,333);
      > }
      > long ladd3 = System.currentTimeMillis();
      > System.out.println("LinkedListæ’å…¥ç”¨æ—¶"+(ladd2-ladd1));  //5761
      > int li1 = ints2.indexOf(333333);
      > System.out.println(li1);
      > long lfind1 = System.currentTimeMillis();
      > System.out.println("LinkedListæŸ¥æ‰¾ç”¨æ—¶"+(lfind1-ladd3)); //11
      > ```
   5. HashSet

      >  åº•å±‚é‡‡ç”¨HashMapå®ç°å­˜å‚¨ï¼Œå…¶å€¼ä½œä¸ºHashMapçš„key
   6. TreeSet

      > éœ€è¦çš„ç»“æœå»é‡ã€æ’åºæ—¶
   7. HashMap ï¼ˆå…·æœ‰`fail-fast`æœºåˆ¶ï¼‰

      > åˆå§‹å®¹é‡æ˜¯16ï¼Œå»ºè®®ä¿®æ”¹åˆå§‹åŒ–å®¹é‡ï¼Œæé«˜æ€§èƒ½
      >
      > è¾¾åˆ°å®¹é‡0.75ï¼Œæ‰©å®¹ä¸º2å€
      >
      > çº¿ç¨‹ä¸å®‰å…¨ï¼Œæ•ˆç‡é«˜
   8. LinkedHashMap

      > é“¾è¡¨+æ•£åˆ—è¡¨çš„ç»“æ„ï¼Œåº•å±‚é‡‡ç”¨LinkedåŒå‘é“¾è¡¨æ¥ä¿å­˜èŠ‚ç‚¹çš„è®¿é—®é¡ºåºï¼Œä¿è¯äº†æœ‰åºæ€§
   9. TreeMap

      > éœ€è¦çš„ç»“æœå»é‡ã€æ’åºæ—¶
   10. Vector

       > çº¿ç¨‹å®‰å…¨ï¼Œæ•ˆç‡ä½
   11. Hashtable ï¼ˆå…·æœ‰`fail-fast`æœºåˆ¶ï¼‰

       > çº¿ç¨‹å®‰å…¨ï¼Œä½†æ•ˆç‡ä½ï¼Œæ¨èConcurrentHashMap
   12. ConcurrentHashMap

       > å…¼é¡¾äº†çº¿ç¨‹å®‰å…¨å’Œæ•ˆç‡çš„é—®é¢˜
   13. Stack

       > å…ˆè¿›åå‡ºï¼Œå †æ ˆ
   14. CopyOnWriteArrayList

       > è¯»å¤§äºå†™æ—¶

       `ğŸ”—ï¼š` <https://www.jianshu.com/p/9b6a4d0b94ac>
4. fail-fastæœºåˆ¶

   `ğŸ”—ï¼š` <https://www.cnblogs.com/54chensongxia/p/12470446.html>
5. Collectionså·¥å…·åŒ…å’ŒArrayså·¥å…·åŒ…

   ```java
   public static void collcetionsShow(){
           ArrayList list = new ArrayList();
           list.add(4);
           list.add(1);
           list.add(3);


           Collections.sort(list);
           System.out.println(list);
           System.out.println(Collections.binarySearch(list,3));
           Collections.reverse(list);
           System.out.println(list);
           System.out.println(Collections.max(list));
           System.out.println(Collections.min(list));

   //        Collections.synchronizedMap();
   //        Collections.synchronizedList();
   //        Collections.synchronizedSet();
   //        Collections.synchronizedCollection();
     }
   ```

   ```java
   public static void arraysShow(){
           int[] arr = {1,2,3,4,5,4,3,2,1};

           int s = Arrays.binarySearch(arr,5);
           System.out.println(s);


           int[] newarr = Arrays.copyOf(arr, 4);
           System.out.println(newarr.length);

           int[] arrrange = Arrays.copyOfRange(arr, 3, 4);
           System.out.println(Arrays.toString(arrrange));

           Arrays.sort(arr);
           System.out.println(Arrays.toString(arr));


           Arrays.fill(newarr,9);
           System.out.println(Arrays.toString(newarr));

           int oldhash = Arrays.hashCode(arr);
           int newhash = Arrays.hashCode(newarr);
           System.out.println(oldhash);
           System.out.println(newhash);


           System.out.println(arr.length);
       }
   ```